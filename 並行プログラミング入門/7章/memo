同期処理２

公平な排他制御
    弱い公平性を担保するロック
        ロックを優先的に獲得可能なスレッドが設定され優先スレッドは順番に変わる
    チケットロック
        ロック獲得時の競合を減少させるようなアルゴリズムの1つ
            ticket=スレッドがチケットを取得する際に利用する共有変数
            ticket獲得時にスピンを行わないため他のスレッドとのコンテンションを軽減できる
    MCSロック
        CAS命令でキューの最後尾に自身のスレッド用のノードを追加しスピンで監視する変数は別に用意
    
ソフトウェアトランザクションメモリ
    特徴
        トランザクション中のコードは2回以上実行される可能性がある
            競合検知を行い発見時にはトランザクションをリトライするため
                合成可能
                    任意のトランザクション処理を任意の組み合わせで実行可能
        トランザクション中に副作用のあるコードを実行すべきではない
        デッドロックしない
        複数のトランザクション処理を合成可能
    TL2のアルゴリズム
        RWロックのように書き込みと読み込みのトランザクションが分割されている
            読み込みは書き込みよりも高速

ロックフリースタック
    ABA問題
        A→B→Aと読み込んだ場合、最初のAと最後のAが同じ値でも別の意味になる可能性がある
            LL/SC命令を用いることで回避可能